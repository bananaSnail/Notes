### yarn、npm、pnpm[pnpm](https://juejin.cn/post/7053340250210795557)
- 在npm3+yarn中 存在幽灵依赖，即package.json中没有引入这个包，用户却能够在业务中使用这个包。因为yarn会对依赖进行扁平化处理，如项目依赖foo，foo又依赖bar。那么在hoist机制中，bar被提升到顶层。注意，多个版本的包只能有一个被提升上来，其余版本的包会嵌套安装到各自的依赖当中（类似npm2的结构）。另一个问题NPM doppelgangers NPM分身也是由hoist机制导致的，在npm3+和yarn中，由于存在hoist机制，会导致某些依赖被提升到顶层，如果其它层也有对这个包的依赖就会导致被重复安装多次，造成性能损耗

### 硬链接和软链接的区别
- 硬链接：它是指将一个文件A指针复制到另一个文件B指针中，文件B就是文件A的硬链接。硬链接只能发生在同一文件系统同一分区上。
- 软链接：符号链接又称为软连接，如果为某个文件或文件夹A创建符号连接B，则B指向A。
- 硬链接仅能链接文件，而符号链接可以链接目录
- 硬链接在链接完成后仅和文件内容关联，和之前链接的文件没有任何关系。而符号链接始终和之前链接的文件关联，和文件内容不直接相关。
- 总结：pnpm在全局通过Store来存储所有的node_modules依赖，并且在.pnpm/node_modules中存储项目的hard links，通过hard link来链接真实的文件资源即通过CAS内容寻址方式直接访问真实的文件资源，项目中则通过symbolic link链接到.pnpm/node_modules目录中，依赖放置在同一级别避免了循环的软链。
- 拓展：CAS 内容寻址存储，是一种存储信息的方式，根据内容而不是位置进行检索信息的存储方式。
- 不同版本的包在Store里会安装多次吗？
    - 会安装多个版本包
    