- 什么是websocket？
    - websocket是HTML5的一种新协议，允许服务器想客户端传递信息，实现浏览器和客户端双工通信。
- websocket特点
    - 与http协议有良好的兼容性；
    - 建立在TCP协议之上，和http协议同属于应用层；
    - 数据格式比较轻量，性能开销小，通信高效；
    - 可以发送文本，也可以发送二进制；
    - 没有同源限制，可以与任意服务器通信。

- websocket和socket的区别
    - socket是应用层与TCP/IP协议通信的中间软件抽象层，它是一组接口。而websocket协议是一个完整的应用层协议，包含一套完整的API。
### websocket
- 握手协议
    - WebSocket 是独立的、创建在TCP上的协议。
    - Websocket 通过 HTTP/1.1 协议的101状态码进行握手。
    - 为了创建Websocket连接，需要通过浏览器发出请求，之后服务器进行回应，这个过程通常称为“握手”（Handshaking）。
- 数据传输
    - 更强的实时性。由于协议是全双工的，所以服务器可以随时主动给客户端下发数据。相对于HTTP请求需要等待客户端发起请求服务端才能响应，延迟明显更少；即使是和Comet等类似的长轮询比较，其也能在短时间内更多次地传递数据。
    - 保持连接状态。与HTTP不同的是，Websocket需要先创建连接，这就使得其成为一种有状态的协议，之后通信时可以省略部分状态信息。而HTTP请求可能需要在每个请求都携带状态信息（如身份认证等）。 
    - 更好的二进制支持。Websocket定义了二进制帧，相对HTTP，可以更轻松地处理二进制内容。
    - 可以支持扩展。Websocket定义了扩展，用户可以扩展协议、实现部分自定义的子协议。如部分浏览器支持压缩等。
    - 更好的压缩效果。相对于HTTP压缩，Websocket在适当的扩展支持下，可以沿用之前内容的上下文，在传递类似的数据时，可以显著地提高压缩率